
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A personal booru-style media tagger that can import files and tags from your hard drive and popular websites. Content can be shared with other users via user-run servers.">
      
      
      
        <link rel="canonical" href="https://hydrusnetwork.github.io/hydrus/developer_api.html">
      
      <link rel="icon" href="assets/hydrus-black.svg">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.2">
    
    
      
        <title>API documentation - hydrus network</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api_documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="hydrus network" class="md-header__button md-logo" aria-label="hydrus network" data-md-component="logo">
      
  <img src="assets/hydrus-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hydrus network
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API documentation
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hydrusnetwork/hydrus/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hydrusnetwork/hydrus
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="index.html" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="introduction.html" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="advanced_siblings.html" class="md-tabs__link">
        Advanced
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="client_api.html" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="faq.html" class="md-tabs__link">
        Misc
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="hydrus network" class="md-nav__button md-logo" aria-label="hydrus network" data-md-component="logo">
      
  <img src="assets/hydrus-white.svg" alt="logo">

    </a>
    hydrus network
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hydrusnetwork/hydrus/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hydrusnetwork/hydrus
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="introduction.html" class="md-nav__link">
        introduction and statement of principles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gettingStartedOverview.html" class="md-nav__link">
        Overview for getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_installing.html" class="md-nav__link">
        installing and updating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_files.html" class="md-nav__link">
        files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_tags.html" class="md-nav__link">
        tags
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_downloading.html" class="md-nav__link">
        downloading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_ratings.html" class="md-nav__link">
        ratings
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_8">
          PTR
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="PTR" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          PTR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="access_keys.html" class="md-nav__link">
        PTR access keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="PTR.html" class="md-nav__link">
        PTR Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="petitionPractices.html" class="md-nav__link">
        Petition practices
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" type="checkbox" id="__nav_2_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_9">
          Next Steps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Next Steps" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Next Steps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_more_files.html" class="md-nav__link">
        more files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="adding_new_downloaders.html" class="md-nav__link">
        adding new downloaders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting_started_subscriptions.html" class="md-nav__link">
        subscriptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="duplicates.html" class="md-nav__link">
        filtering duplicates
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="advanced_siblings.html" class="md-nav__link">
        tag siblings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="advanced_parents.html" class="md-nav__link">
        tag parents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="advanced.html" class="md-nav__link">
        general clever tricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reducing_lag.html" class="md-nav__link">
        reducing lag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="database_migration.html" class="md-nav__link">
        database migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="launch_arguments.html" class="md-nav__link">
        launch arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ipfs.html" class="md-nav__link">
        IPFS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="local_booru.html" class="md-nav__link">
        local booru
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="server.html" class="md-nav__link">
        running your own server
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_10" type="checkbox" id="__nav_3_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_10">
          Alternate Installations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Alternate Installations" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_10">
          <span class="md-nav__icon md-icon"></span>
          Alternate Installations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="docker.html" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine.html" class="md-nav__link">
        running in wine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="running_from_source.html" class="md-nav__link">
        running from source
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11" type="checkbox" id="__nav_3_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_11">
          Downloader Creation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Downloader Creation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_11">
          <span class="md-nav__icon md-icon"></span>
          Downloader Creation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_intro.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_gugs.html" class="md-nav__link">
        Gallery URL Generators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_url_classes.html" class="md-nav__link">
        URL Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11_4" type="checkbox" id="__nav_3_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_11_4">
          Parsers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Parsers" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_11_4">
          <span class="md-nav__icon md-icon"></span>
          Parsers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11_4_2" type="checkbox" id="__nav_3_11_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_11_4_2">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_11_4_2">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_formulae.html" class="md-nav__link">
        Formulae
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_content_parsers.html" class="md-nav__link">
        Content Parsers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_page_parsers.html" class="md-nav__link">
        Page Parsers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11_4_3" type="checkbox" id="__nav_3_11_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_11_4_3">
          Walkthroughs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Walkthroughs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_11_4_3">
          <span class="md-nav__icon md-icon"></span>
          Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_gallery_page.html" class="md-nav__link">
        gallery page example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_file_page.html" class="md-nav__link">
        file page example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_parsers_full_example_api.html" class="md-nav__link">
        api example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_completion.html" class="md-nav__link">
        Putting it All Together
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_sharing.html" class="md-nav__link">
        Sharing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader_login.html" class="md-nav__link">
        Login Manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="client_api.html" class="md-nav__link">
        Client API
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="developer_api.html" class="md-nav__link md-nav__link--active">
        API documentation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#library_modules_created_by_hydrus_users" class="md-nav__link">
    Library modules created by hydrus users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access_and_permissions" class="md-nav__link">
    Access and permissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access_management" class="md-nav__link">
    Access Management
  </a>
  
    <nav class="md-nav" aria-label="Access Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_version" class="md-nav__link">
    GET /api_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_new_permissions" class="md-nav__link">
    GET /request_new_permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_key" class="md-nav__link">
    GET /session_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify_access_key" class="md-nav__link">
    GET /verify_access_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_services" class="md-nav__link">
    GET /get_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_files" class="md-nav__link">
    Adding Files
  </a>
  
    <nav class="md-nav" aria-label="Adding Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_files_add_file" class="md-nav__link">
    POST /add_files/add_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_delete_files" class="md-nav__link">
    POST /add_files/delete_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_undelete_files" class="md-nav__link">
    POST /add_files/undelete_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_archive_files" class="md-nav__link">
    POST /add_files/archive_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_unarchive_files" class="md-nav__link">
    POST /add_files/unarchive_files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_tags" class="md-nav__link">
    Adding Tags
  </a>
  
    <nav class="md-nav" aria-label="Adding Tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_tags_clean_tags" class="md-nav__link">
    GET /add_tags/clean_tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_tags_get_tag_services" class="md-nav__link">
    GET /add_tags/get_tag_services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_tags_add_tags" class="md-nav__link">
    POST /add_tags/add_tags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_urls" class="md-nav__link">
    Adding URLs
  </a>
  
    <nav class="md-nav" aria-label="Adding URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_urls_get_url_files" class="md-nav__link">
    GET /add_urls/get_url_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_get_url_info" class="md-nav__link">
    GET /add_urls/get_url_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_add_url" class="md-nav__link">
    POST /add_urls/add_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_associate_url" class="md-nav__link">
    POST /add_urls/associate_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_cookies_and_http_headers" class="md-nav__link">
    Managing Cookies and HTTP Headers
  </a>
  
    <nav class="md-nav" aria-label="Managing Cookies and HTTP Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_cookies_get_cookies" class="md-nav__link">
    GET /manage_cookies/get_cookies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_cookies_set_cookies" class="md-nav__link">
    POST /manage_cookies/set_cookies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_headers_set_user_agent" class="md-nav__link">
    POST /manage_headers/set_user_agent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_pages" class="md-nav__link">
    Managing Pages
  </a>
  
    <nav class="md-nav" aria-label="Managing Pages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_pages_get_pages" class="md-nav__link">
    GET /manage_pages/get_pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_get_page_info" class="md-nav__link">
    GET /manage_pages/get_page_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_add_files" class="md-nav__link">
    POST /manage_pages/add_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_focus_page" class="md-nav__link">
    POST /manage_pages/focus_page
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#searching_files" class="md-nav__link">
    Searching Files
  </a>
  
    <nav class="md-nav" aria-label="Searching Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_files_search_files" class="md-nav__link">
    GET /get_files/search_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_file_metadata" class="md-nav__link">
    GET /get_files/file_metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_file" class="md-nav__link">
    GET /get_files/file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_thumbnail" class="md-nav__link">
    GET /get_files/thumbnail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_the_database" class="md-nav__link">
    Managing the Database
  </a>
  
    <nav class="md-nav" aria-label="Managing the Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_database_lock_on" class="md-nav__link">
    POST /manage_database/lock_on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_database_lock_off" class="md-nav__link">
    POST /manage_database/lock_off
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_database_mr_bones" class="md-nav__link">
    GET /manage_database/mr_bones
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Misc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="privacy.html" class="md-nav__link">
        privacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="contact.html" class="md-nav__link">
        contact and links
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="support.html" class="md-nav__link">
        financial support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="changelog.html" class="md-nav__link">
        changelog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="about_docs.html" class="md-nav__link">
        About These Docs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#library_modules_created_by_hydrus_users" class="md-nav__link">
    Library modules created by hydrus users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access_and_permissions" class="md-nav__link">
    Access and permissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access_management" class="md-nav__link">
    Access Management
  </a>
  
    <nav class="md-nav" aria-label="Access Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_version" class="md-nav__link">
    GET /api_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_new_permissions" class="md-nav__link">
    GET /request_new_permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_key" class="md-nav__link">
    GET /session_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify_access_key" class="md-nav__link">
    GET /verify_access_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_services" class="md-nav__link">
    GET /get_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_files" class="md-nav__link">
    Adding Files
  </a>
  
    <nav class="md-nav" aria-label="Adding Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_files_add_file" class="md-nav__link">
    POST /add_files/add_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_delete_files" class="md-nav__link">
    POST /add_files/delete_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_undelete_files" class="md-nav__link">
    POST /add_files/undelete_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_archive_files" class="md-nav__link">
    POST /add_files/archive_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_files_unarchive_files" class="md-nav__link">
    POST /add_files/unarchive_files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_tags" class="md-nav__link">
    Adding Tags
  </a>
  
    <nav class="md-nav" aria-label="Adding Tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_tags_clean_tags" class="md-nav__link">
    GET /add_tags/clean_tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_tags_get_tag_services" class="md-nav__link">
    GET /add_tags/get_tag_services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_tags_add_tags" class="md-nav__link">
    POST /add_tags/add_tags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding_urls" class="md-nav__link">
    Adding URLs
  </a>
  
    <nav class="md-nav" aria-label="Adding URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add_urls_get_url_files" class="md-nav__link">
    GET /add_urls/get_url_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_get_url_info" class="md-nav__link">
    GET /add_urls/get_url_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_add_url" class="md-nav__link">
    POST /add_urls/add_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_urls_associate_url" class="md-nav__link">
    POST /add_urls/associate_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_cookies_and_http_headers" class="md-nav__link">
    Managing Cookies and HTTP Headers
  </a>
  
    <nav class="md-nav" aria-label="Managing Cookies and HTTP Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_cookies_get_cookies" class="md-nav__link">
    GET /manage_cookies/get_cookies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_cookies_set_cookies" class="md-nav__link">
    POST /manage_cookies/set_cookies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_headers_set_user_agent" class="md-nav__link">
    POST /manage_headers/set_user_agent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_pages" class="md-nav__link">
    Managing Pages
  </a>
  
    <nav class="md-nav" aria-label="Managing Pages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_pages_get_pages" class="md-nav__link">
    GET /manage_pages/get_pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_get_page_info" class="md-nav__link">
    GET /manage_pages/get_page_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_add_files" class="md-nav__link">
    POST /manage_pages/add_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_pages_focus_page" class="md-nav__link">
    POST /manage_pages/focus_page
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#searching_files" class="md-nav__link">
    Searching Files
  </a>
  
    <nav class="md-nav" aria-label="Searching Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_files_search_files" class="md-nav__link">
    GET /get_files/search_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_file_metadata" class="md-nav__link">
    GET /get_files/file_metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_file" class="md-nav__link">
    GET /get_files/file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_files_thumbnail" class="md-nav__link">
    GET /get_files/thumbnail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing_the_database" class="md-nav__link">
    Managing the Database
  </a>
  
    <nav class="md-nav" aria-label="Managing the Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manage_database_lock_on" class="md-nav__link">
    POST /manage_database/lock_on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_database_lock_off" class="md-nav__link">
    POST /manage_database/lock_off
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manage_database_mr_bones" class="md-nav__link">
    GET /manage_database/mr_bones
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/hydrusnetwork/hydrus/edit/master/docs/developer_api.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="api_documentation">API documentation<a class="headerlink" href="#api_documentation" title="Permanent link">&para;</a></h1>
<h2 id="library_modules_created_by_hydrus_users">Library modules created by hydrus users<a class="headerlink" href="#library_modules_created_by_hydrus_users" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://gitlab.com/cryzed/hydrus-api">Hydrus API</a>: A python module that talks to the API.</li>
<li><a href="https://github.com/cravxx/hydrus.js">hydrus.js</a>: A node.js module that talks to the API.</li>
</ul>
<h2 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h2>
<p>In general, the API deals with standard UTF-8 JSON. POST requests and 200 OK responses are generally going to be a JSON 'Object' with variable names as keys and values obviously as values. There are examples throughout this document. For GET requests, everything is in standard GET parameters, but some variables are complicated and will need to be JSON encoded and then URL encoded. An example would be the 'tags' parameter on <a href="#get_files_search_files">GET /get_files/search_files</a>, which is a list of strings. Since GET http URLs have limits on what characters are allowed, but hydrus tags can have all sorts of characters, you'll be doing this:</p>
<ul>
<li>
<p>Your list of tags:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span> <span class="s1">&#39;character:samus aran&#39;</span><span class="p">,</span> <span class="s1">&#39;creator:青い桜&#39;</span><span class="p">,</span> <span class="s1">&#39;system:height &gt; 2000&#39;</span> <span class="p">]</span>
</code></pre></div>
</li>
<li>
<p>JSON encoded:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s2">&quot;character:samus aran&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;creator:\\u9752\\u3044\\u685c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;system:height &gt; 2000&quot;</span><span class="p">]</span><span class="w"></span>
</code></pre></div>
</li>
<li>
<p>Then URL encoded:</p>
<div class="highlight"><pre><span></span><code>%5B%22character%3Asamus%20aran%22%2C%20%22creator%3A%5Cu9752%5Cu3044%5Cu685c%22%2C%20%22system%3Aheight%20%3E%202000%22%5D
</code></pre></div>
</li>
<li>
<p>In python, converting your tag list to the URL encoded string would be:</p>
<div class="highlight"><pre><span></span><code><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span> <span class="n">tag_list</span> <span class="p">)</span> <span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>Full URL path example:</p>
<div class="highlight"><pre><span></span><code>/get_files/search_files?file_sort_type=6&amp;file_sort_asc=false&amp;tags=%5B%22character%3Asamus%20aran%22%2C%20%22creator%3A%5Cu9752%5Cu3044%5Cu685c%22%2C%20%22system%3Aheight%20%3E%202000%22%5D
</code></pre></div>
</li>
</ul>
<p>On 200 OK, the API returns JSON for everything except actual file/thumbnail requests. On 4XX and 5XX, assume it will return plain text, which may be a raw traceback that I'd be interested in seeing. You'll typically get 400 for a missing parameter, 401/403/419 for missing/insufficient/expired access, and 500 for a real deal serverside error.</p>
<h2 id="access_and_permissions">Access and permissions<a class="headerlink" href="#access_and_permissions" title="Permanent link">&para;</a></h2>
<p>The client gives access to its API through different 'access keys', which are the typical 64-character hex used in many other places across hydrus. Each guarantees different permissions such as handling files or tags. Most of the time, a user will provide full access, but do not assume this. If the access header or parameter is not provided, you will get 401, and all insufficient permission problems will return 403 with appropriate error text.</p>
<p>Access is required for every request. You can provide this as an http header, like so:</p>
<div class="highlight"><pre><span></span><code>Hydrus-Client-API-Access-Key : 0150d9c4f6a6d2082534a997f4588dcf0c56dffe1d03ffbf98472236112236ae
</code></pre></div>
<p>Or you can include it as a GET or POST parameter on any request (except <em>POST /add_files/add_file</em>, which uses the entire POST body for the file's bytes). Use the same name for your GET or POST argument, such as:</p>
<div class="highlight"><pre><span></span><code>/get_files/thumbnail?file_id=452158&amp;Hydrus-Client-API-Access-Key=0150d9c4f6a6d2082534a997f4588dcf0c56dffe1d03ffbf98472236112236ae
</code></pre></div>
<p>There is now a simple 'session' system, where you can get a temporary key that gives the same access without having to include the permanent access key in every request. You can fetch a session key with the <a href="#session_key">/session_key</a> command and thereafter use it just as you would an access key, just with <em>Hydrus-Client-API-Session-Key</em> instead.</p>
<p>Session keys will expire if they are not used within 24 hours, or if the client is restarted, or if the underlying access key is deleted. An invalid/expired session key will give a <strong>419</strong> result with an appropriate error text.</p>
<p>Bear in mind the Client API is still under construction. Setting up the Client API to be accessible across the internet requires technical experience to be convenient. HTTPS is available for encrypted comms, but the default certificate is self-signed (which basically means an eavesdropper can't see through it, but your ISP/government could if they decided to target you). If you have your own domain and SSL cert, you can replace them though (check the db directory for client.crt and client.key). Otherwise, be careful about transmitting sensitive content outside of your localhost/network.</p>
<h2 id="access_management">Access Management<a class="headerlink" href="#access_management" title="Permanent link">&para;</a></h2>
<h3 id="api_version"><strong>GET <code>/api_version</code></strong><a class="headerlink" href="#api_version" title="Permanent link">&para;</a></h3>
<p><em>Gets the current API version. I will increment this every time I alter the API.</em></p>
<p>Restricted access: NO.</p>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>
<p>Some simple JSON describing the current api version (and hydrus client version, if you are interested).</p>
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hydrus_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">441</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
</dl>
<h3 id="request_new_permissions"><strong>GET <code>/request_new_permissions</code></strong><a class="headerlink" href="#request_new_permissions" title="Permanent link">&para;</a></h3>
<p><em>Register a new external program with the client. This requires the 'add from api request' mini-dialog under</em> services-&gt;review services <em>to be open, otherwise it will 403.</em></p>
<p>Restricted access: NO.</p>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>name</code>: (descriptive name of your access)</li>
<li>
<p><code>basic_permissions</code>: A JSON-encoded list of numerical permission identifiers you want to request.</p>
<p>The permissions are currently:</p>
<ul>
<li>0 - Import URLs</li>
<li>1 - Import Files</li>
<li>2 - Add Tags</li>
<li>3 - Search for Files</li>
<li>4 - Manage Pages</li>
<li>5 - Manage Cookies</li>
<li>6 - Manage Database</li>
</ul>
</li>
</ul>
<div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/request_new_permissions?name=my%20import%20script&amp;basic_permissions=[0,1]
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>Some JSON with your access key, which is 64 characters of hex. This will not be valid until the user approves the request in the client ui.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;access_key&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;73c9ab12751dcf3368f028d3abbe1d8e2a3a48d0de25e64f3a8f00f3a1424c57&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
</dl>
<h3 id="session_key"><strong>GET <code>/session_key</code></strong><a class="headerlink" href="#session_key" title="Permanent link">&para;</a></h3>
<p><em>Get a new session key.</em></p>
<p>Restricted access: YES. No permissions required.</p>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>Some JSON with a new session key in hex.  <br />
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;session_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f6e651e7467255ade6f7c66050f3d595ff06d6f3d3693a3a6fb1a9c2b278f800&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the access you provide to get a new session key <strong>can</strong> be a session key, if that happens to be useful. As long as you have some kind of access, you can generate a new session key.</p>
<p>A session key expires after 24 hours of inactivity, whenever the client restarts, or if the underlying access key is deleted. A request on an expired session key returns 419.</p>
</div>
<h3 id="verify_access_key"><strong>GET <code>/verify_access_key</code></strong><a class="headerlink" href="#verify_access_key" title="Permanent link">&para;</a></h3>
<p><em>Check your access key is valid.</em></p>
<p>Restricted access: YES. No permissions required.</p>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>401/403/419 and some error text if the provided access/session key is invalid, otherwise some JSON with basic permission info. 
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;basic_permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;human_description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;API Permissions (autotagger): add tags to files, import files, search for files: Can search: only autotag this&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
</dl>
<h3 id="get_services"><strong>GET <code>/get_services</code></strong><a class="headerlink" href="#get_services" title="Permanent link">&para;</a></h3>
<p><em>Ask the client about its file and tag services.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. At least one of Add Files, Add Tags, Manage Pages, or Search Files permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>Some JSON listing the client's file and tag services by name and 'service key'.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;local_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my tags&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6c6f63616c2074616773&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;filenames&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;231a2e992b67101318c410abb6e7d98b6e32050623f138ca93bd4ad2993de31b&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;tag_repositories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTR&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ccb0cf2f9e92c2eb5bd40986f72a339ef9497014a5fb8ce4cea6d6c9837877d9&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;local_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my files&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6c6f63616c2066696c6573&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;file_repositories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;all_local_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;all local files&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;616c6c206c6f63616c2066696c6573&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;all_known_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;all known files&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;616c6c206b6e6f776e2066696c6573&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;all_known_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;all known tags&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;616c6c206b6e6f776e2074616773&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;trash&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;trash&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7472617368&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
    These services may be referred to in various metadata responses or required in request parameters (e.g. where to add tag mappings). Note that a user can rename their services. Much of this Client API uses this renameable 'service name' as service identifier, but I may start using service key, which is non-mutable ID specific to each client. The hardcoded services have shorter service key strings (it is usually just 'all known files' etc.. ASCII-converted to hex), but user-made stuff will have 64-character hex.</dd>
</dl>
<h2 id="adding_files">Adding Files<a class="headerlink" href="#adding_files" title="Permanent link">&para;</a></h2>
<h3 id="add_files_add_file"><strong>POST <code>/add_files/add_file</code></strong><a class="headerlink" href="#add_files_add_file" title="Permanent link">&para;</a></h3>
<p><em>Tell the client to import a file.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import Files permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li>Content-Type: <code>application/json</code> (if sending path), <code>application/octet-stream</code> (if sending file)</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>path</code>: (the path you want to import)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E:\\to_import\\ayanami.jpg&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Arguments (as bytes):</dt>
<dd>You can alternately just send the file's bytes as the POST body.</dd>
<dt>Response:</dt>
<dd>
<p>Some JSON with the import result. Please note that file imports for large files may take several seconds, and longer if the client is busy doing other db work, so make sure your request is willing to wait that long for the response.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;29a15ad0c035c0a0e86e2591660207db64b10777ced76565a695102a481c3dd1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;note&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p><code>status</code> is:</p>
<ul>
<li>1 - File was successfully imported</li>
<li>2 - File already in database</li>
<li>3 - File previously deleted</li>
<li>4 - File failed to import</li>
<li>7 - File vetoed</li>
</ul>
<p>A file 'veto' is caused by the file import options (which in this case is the 'quiet' set under the client's <em>options-&gt;importing</em>) stopping the file due to its resolution or minimum file size rules, etc...</p>
<p>'hash' is the file's SHA256 hash in hexadecimal, and 'note' is some occasional additional human-readable text appropriate to the file status that you may recognise from hydrus's normal import workflow. For an import error, it will always be the full traceback.</p>
</dd>
</dl>
<h3 id="add_files_delete_files"><strong>POST <code>/add_files/delete_files</code></strong><a class="headerlink" href="#add_files_delete_files" title="Permanent link">&para;</a></h3>
<p><em>Tell the client to send files to the trash.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import Files permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: <code>application/json</code></li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>hash</code>: (an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (a list of SHA256 hashes)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;78f92ba4a786225ee2a1236efa6b7dc81dd729faf4af99f96f3e20bad6d8b538&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 and no content.</dd>
</dl>
<p>You can use hash or hashes, whichever is more convenient.</p>
<p>At the moment, this is only able to send files from 'my files' to the trash, and so it cannot perform physical deletes. There is no error if any files do not currently exist in 'my files'. In future, it will take some sort of file service parameter to do more.</p>
<h3 id="add_files_undelete_files"><strong>POST <code>/add_files/undelete_files</code></strong><a class="headerlink" href="#add_files_undelete_files" title="Permanent link">&para;</a></h3>
<p><em>Tell the client to pull files back out of the trash.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import Files permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>hash</code>: (an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (a list of SHA256 hashes)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;78f92ba4a786225ee2a1236efa6b7dc81dd729faf4af99f96f3e20bad6d8b538&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 and no content.</dd>
</dl>
<p>You can use hash or hashes, whichever is more convenient.</p>
<p>This is just the reverse of a delete_files--removing files from trash and putting them back in 'my files'. There is no error if any files do not currently exist in 'trash'.</p>
<h3 id="add_files_archive_files"><strong>POST <code>/add_files/archive_files</code></strong><a class="headerlink" href="#add_files_archive_files" title="Permanent link">&para;</a></h3>
<p><em>Tell the client to archive inboxed files.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import Files permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>hash</code>: (an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (a list of SHA256 hashes)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;78f92ba4a786225ee2a1236efa6b7dc81dd729faf4af99f96f3e20bad6d8b538&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 and no content.</dd>
</dl>
<p>You can use hash or hashes, whichever is more convenient.</p>
<p>This puts files in the 'archive', taking them out of the inbox. It only has meaning for files currently in 'my files' or 'trash'. There is no error if any files do not currently exist or are already in the archive.</p>
<h3 id="add_files_unarchive_files"><strong>POST <code>/add_files/unarchive_files</code></strong><a class="headerlink" href="#add_files_unarchive_files" title="Permanent link">&para;</a></h3>
<p><em>Tell the client re-inbox archived files.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import Files permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>hash</code>: (an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (a list of SHA256 hashes)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;78f92ba4a786225ee2a1236efa6b7dc81dd729faf4af99f96f3e20bad6d8b538&quot;</span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 and no content.</dd>
</dl>
<p>You can use hash or hashes, whichever is more convenient.</p>
<p>This puts files back in the inbox, taking them out of the archive. It only has meaning for files currently in 'my files' or 'trash'. There is no error if any files do not currently exist or are already in the inbox.</p>
<h2 id="adding_tags">Adding Tags<a class="headerlink" href="#adding_tags" title="Permanent link">&para;</a></h2>
<h3 id="add_tags_clean_tags"><strong>GET <code>/add_tags/clean_tags</code></strong><a class="headerlink" href="#add_tags_clean_tags" title="Permanent link">&para;</a></h3>
<p><em>Ask the client about how it will see certain tags.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Add Tags permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments (in percent-encoded JSON):</dt>
<dd>
<ul>
<li><code>tags</code>: (a list of the tags you want cleaned)</li>
</ul>
</dd>
<dt>Example request:</dt>
<dd>Given tags <code class="highlight"><span class="p">[</span><span class="w"> </span><span class="s2">&quot; bikini &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue    eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; character : samus aran &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;:)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;   &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;9&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;system:wew&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-flower&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"></span></code>:
<div class="highlight"><pre><span></span><code>/add_tags/clean_tags?tags=%5B%22%20bikini%20%22%2C%20%22blue%20%20%20%20eyes%22%2C%20%22%20character%20%3A%20samus%20aran%20%22%2C%20%22%3A%29%22%2C%20%22%20%20%20%22%2C%20%22%22%2C%20%2210%22%2C%20%2211%22%2C%20%229%22%2C%20%22system%3Awew%22%2C%20%22-flower%22%5D
</code></pre></div></dd>
<dt>Response:</dt>
<dd>
<p>The tags cleaned according to hydrus rules. They will also be in hydrus human-friendly sorting order.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;tags&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;9&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;::)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bikini&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;character:samus aran&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;flower&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;wew&quot;</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>Mostly, hydrus simply trims excess whitespace, but the other examples are rare issues you might run into. 'system' is an invalid namespace, tags cannot be prefixed with hyphens, and any tag starting with ':' is secretly dealt with internally as "[no namespace]:[colon-prefixed-subtag]". Again, you probably won't run into these, but if you see a mismatch somewhere and want to figure it out, or just want to sort some numbered tags, you might like to try this.</p>
</dd>
</dl>
<h3 id="add_tags_get_tag_services"><strong>GET <code>/add_tags/get_tag_services</code></strong><a class="headerlink" href="#add_tags_get_tag_services" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Deprecated</p>
<p>This is becoming obsolete and will be removed! Use <a href="#get_services">/get_services</a> instead!</p>
</div>
<p><em>Ask the client about its tag services.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Add Tags permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>
<p>Some JSON listing the client's 'local tags' and tag repository services by name.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;local_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;my tags&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;tag_repositories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;public tag repository&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;mlp fanfic tagging server&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A user can rename their services. Don't assume the client's local tags service will be "my tags".</p>
</div>
</dd>
</dl>
<h3 id="add_tags_add_tags"><strong>POST <code>/add_tags/add_tags</code></strong><a class="headerlink" href="#add_tags_add_tags" title="Permanent link">&para;</a></h3>
<p><em>Make changes to the tags that files have.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Add Tags permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>hash</code>: (selective A, an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (selective A, a list of SHA256 hashes)</li>
<li><code>service_names_to_tags</code>: (selective B, an Object of service names to lists of tags to be 'added' to the files)</li>
<li><code>service_keys_to_tags</code>: (selective B, an Object of service keys to lists of tags to be 'added' to the files)</li>
<li><code>service_names_to_actions_to_tags</code>: (selective B, an Object of service names to content update actions to lists of tags)</li>
<li><code>service_keys_to_actions_to_tags</code>: (selective B, an Object of service keys to content update actions to lists of tags)</li>
</ul>
<p>You can use either 'hash' or 'hashes'.</p>
<p>You can use either 'service_names_to...' or 'service_keys_to...', where names is simple and human-friendly "my tags" and similar (but may be renamed by a user), but keys is a little more complicated but accurate/unique. Since a client may have multiple tag services with non-default names and pseudo-random keys, if it is not your client you will need to check the <a href="#get_services">/get_services</a> call to get the names or keys, and you may need some selection UI on your end so the user can pick what to do if there are multiple choices. I encourage using keys if you can.</p>
<p>Also, you can use either '...to_tags', which is simple and add-only, or '...to_actions_to_tags', which is more complicated and allows you to remove/petition or rescind pending content.</p>
<p>The permitted 'actions' are:</p>
<ul>
<li>0 - Add to a local tag service.</li>
<li>1 - Delete from a local tag service.</li>
<li>2 - Pend to a tag repository.</li>
<li>3 - Rescind a pend from a tag repository.</li>
<li>4 - Petition from a tag repository. (This is special)</li>
<li>5 - Rescind a petition from a tag repository.</li>
</ul>
<p>When you petition a tag from a repository, a 'reason' for the petition is typically needed. If you send a normal list of tags here, a default reason of "Petitioned from API" will be given. If you want to set your own reason, you can instead give a list of [ tag, reason ] pairs.</p>
</dd>
<dt>Some example requests:</dt>
<dd>
<p><div class="highlight"><span class="filename">Adding some tags to a file</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;df2a7b286d21329fc496e3aa8b8a08b67bb1747ca32749acb3f5d544cbfc0f56&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;service_names_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;my tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;character:supergirl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rating:safe&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Adding more tags to two files</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hashes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;df2a7b286d21329fc496e3aa8b8a08b67bb1747ca32749acb3f5d544cbfc0f56&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;f2b022214e711e9a11e2fcec71bfd524f10f0be40c250737a7861a5ddd3faebf&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;service_names_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;my tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;process this&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;public tag repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;creator:dandon fuga&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">A complicated transaction with all possible actions</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;df2a7b286d21329fc496e3aa8b8a08b67bb1747ca32749acb3f5d544cbfc0f56&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;service_keys_to_actions_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;6c6f63616c2074616773&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;character:supergirl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rating:safe&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;character:superman&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aa0424b501237041dab0308c02c35454d377eebd74cfbc5b9d7b3e16cc2193e9&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;character:supergirl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rating:safe&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;3&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;filename:image.jpg&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;4&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot;creator:danban faga&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;typo&quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;character:super_girl&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;underscore&quot;</span><span class="p">]],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;5&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;skirt&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>This last example is far more complicated than you will usually see. Pend rescinds and petition rescinds are not common. Petitions are also quite rare, and gathering a good petition reason for each tag is often a pain.</p>
<p>Note that the enumerated status keys in the service_names_to_actions_to_tags structure are strings, not ints (JSON does not support int keys for Objects).</p>
</dd>
<dt>Response description:</dt>
<dd>200 and no content.</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note also that hydrus tag actions are safely idempotent. You can pend a tag that is already pended and not worry about an error--it will be discarded. The same for other reasonable logical scenarios: deleting a tag that does not exist will silently make no change, pending a tag that is already 'current' will again be passed over. It is fine to just throw 'process this' tags at every file import you add and not have to worry about checking which files you already added it to.</p>
</div>
<h2 id="adding_urls">Adding URLs<a class="headerlink" href="#adding_urls" title="Permanent link">&para;</a></h2>
<h3 id="add_urls_get_url_files"><strong>GET <code>/add_urls/get_url_files</code></strong><a class="headerlink" href="#add_urls_get_url_files" title="Permanent link">&para;</a></h3>
<p><em>Ask the client about an URL's files.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import URLs permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>url</code>: (the url you want to ask about)</li>
</ul>
</dd>
<dt>Example request:</dt>
<dd>for URL <code>http://safebooru.org/index.php?page=post&amp;s=view&amp;id=2753608</code>:
<div class="highlight"><pre><span></span><code>/add_urls/get_url_files?url=http%3A%2F%2Fsafebooru.org%2Findex.php%3Fpage%3Dpost%26s%3Dview%26id%3D2753608
</code></pre></div></dd>
<dt>Response:</dt>
<dd>
<p>Some JSON which files are known to be mapped to that URL. Note this needs a database hit, so it may be delayed if the client is otherwise busy. Don't rely on this to always be fast. 
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;normalised_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://safebooru.org/index.php?id=2753608&amp;page=post&amp;s=view&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url_file_statuses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;20e9002824e5e7ffc240b91b6e4a6af552b3143993c1778fd523c30d9fdde02c&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;note&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;url recognised: Imported at 2015/10/18 10:58:01, which was 3 years 4 months ago (before this check).&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>The <code>url_file_statuses</code> is a list of zero-to-n JSON Objects, each representing a file match the client found in its database for the URL. Typically, it will be of length 0 (for as-yet-unvisited URLs or Gallery/Watchable URLs that are not attached to files) or 1, but sometimes multiple files are given the same URL (sometimes by mistaken misattribution, sometimes by design, such as pixiv manga pages). Handling n files per URL is a pain but an unavoidable issue you should account for.</p>
<p><code>status</code> is the same as for <code>/add_files/add_file</code>:</p>
<ul>
<li>0 - File not in database, ready for import (you will only see this very rarely--usually in this case you will just get no matches)</li>
<li>2 - File already in database</li>
<li>3 - File previously deleted</li>
</ul>
<p><code>hash</code> is the file's SHA256 hash in hexadecimal, and 'note' is some occasional additional human-readable text you may recognise from hydrus's normal import workflow.</p>
</dd>
</dl>
<h3 id="add_urls_get_url_info"><strong>GET <code>/add_urls/get_url_info</code></strong><a class="headerlink" href="#add_urls_get_url_info" title="Permanent link">&para;</a></h3>
<p><em>Ask the client for information about a URL.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import URLs permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>url</code>: (the url you want to ask about)</li>
</ul>
</dd>
<dt>Example request:</dt>
<dd>for URL <code>https://8ch.net/tv/res/1846574.html</code>:
<div class="highlight"><pre><span></span><code>/add_urls/get_url_info?url=https%3A%2F%2F8ch.net%2Ftv%2Fres%2F1846574.html
</code></pre></div></dd>
<dt>Response:</dt>
<dd>
<p>Some JSON describing what the client thinks of the URL.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;normalised_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://8ch.net/tv/res/1846574.html&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url_type_string&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;watchable url&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;match_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8chan thread&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;can_parse&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>The url types are currently:</p>
<ul>
<li>0 - Post URL</li>
<li>2 - File URL</li>
<li>3 - Gallery URL</li>
<li>4 - Watchable URL</li>
<li>5 - Unknown URL (i.e. no matching URL Class)</li>
</ul>
<p>'Unknown' URLs are treated in the client as direct File URLs. Even though the 'File URL' type is available, most file urls do not have a URL Class, so they will appear as Unknown. Adding them to the client will pass them to the URL Downloader as a raw file for download and import.</p>
</dd>
</dl>
<h3 id="add_urls_add_url"><strong>POST <code>/add_urls/add_url</code></strong><a class="headerlink" href="#add_urls_add_url" title="Permanent link">&para;</a></h3>
<p><em>Tell the client to 'import' a URL. This triggers the exact same routine as drag-and-dropping a text URL onto the main client window.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import URLs permission needed. Add Tags needed to include tags.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: <code>application/json</code></li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>url</code>: (the url you want to add)</li>
<li><code>destination_page_key</code>: (optional page identifier for the page to receive the url)</li>
<li><code>destination_page_name</code>: (optional page name to receive the url)</li>
<li><code>show_destination_page</code>: (optional, defaulting to false, controls whether the UI will change pages on add)</li>
<li><code>service_names_to_additional_tags</code>: (optional, selective, tags to give to any files imported from this url)</li>
<li><code>service_keys_to_additional_tags</code>: (optional, selective, tags to give to any files imported from this url)</li>
<li><code>filterable_tags</code>: (optional tags to be filtered by any tag import options that applies to the URL)</li>
<li><em><code>service_names_to_tags</code>: (obsolete, legacy synonym for service_names_to_additional_tags)</em></li>
</ul>
<p>If you specify a <code>destination_page_name</code> and an appropriate importer page already exists with that name, that page will be used. Otherwise, a new page with that name will be recreated (and used by subsequent calls with that name). Make sure it that page name is unique (e.g. '/b/ threads', not 'watcher') in your client, or it may not be found.</p>
<p>Alternately, <code>destination_page_key</code> defines exactly which page should be used. Bear in mind this page key is only valid to the current session (they are regenerated on client reset or session reload), so you must figure out which one you want using the <a href="#manage_pages_get_pages">/manage_pages/get_pages</a> call. If the correct page_key is not found, or the page it corresponds to is of the incorrect type, the standard page selection/creation rules will apply.</p>
<p><code>show_destination_page</code> defaults to False to reduce flicker when adding many URLs to different pages quickly. If you turn it on, the client will behave like a URL drag and drop and select the final page the URL ends up on.</p>
<p><code>service_names_to_additional_tags</code> and <code>service_keys_to_additional_tags</code> use the same data structure as in /add_tags/add_tags--service ids to a list of tags to add. You will need 'add tags' permission or this will 403. These tags work exactly as 'additional' tags work in a <em>tag import options</em>. They are service specific, and always added unless some advanced tag import options checkbox (like 'only add tags to new files') is set.</p>
<p>filterable_tags works like the tags parsed by a hydrus downloader. It is just a list of strings. They have no inherant service and will be sent to a <em>tag import options</em>, if one exists, to decide which tag services get what. This parameter is useful if you are pulling all a URL's tags outside of hydrus and want to have them processed like any other downloader, rather than figuring out service names and namespace filtering on your end. Note that in order for a tag import options to kick in, I think you will have to have a Post URL URL Class hydrus-side set up for the URL so some tag import options (whether that is Class-specific or just the default) can be loaded at import time.</p>
<p><div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://8ch.net/tv/res/1846574.html&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;destination_page_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kino zone&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;service_names_to_additional_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;my tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;as seen on /tv/&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://safebooru.org/index.php?page=post&amp;s=view&amp;id=3195917&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;filterable_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;1girl&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;artist name&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;creator:azto dio&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;blonde hair&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;blue eyes&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;breasts&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;character name&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;commentary&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;english commentary&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;formal&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;full body&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;glasses&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;gloves&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;hair between eyes&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;high heels&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;highres&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;large breasts&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;long hair&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;long sleeves&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;looking at viewer&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;series:metroid&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;mole&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;mole under mouth&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;patreon username&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;ponytail&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;character:samus aran&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;solo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;standing&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;suit&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;watermark&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
</dd>
<dt>Response:</dt>
<dd>Some JSON with info on the URL added.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;human_result_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;\&quot;https://8ch.net/tv/res/1846574.html\&quot; URL added successfully.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;normalised_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://8ch.net/tv/res/1846574.html&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
</dl>
<h3 id="add_urls_associate_url"><strong>POST <code>/add_urls/associate_url</code></strong><a class="headerlink" href="#add_urls_associate_url" title="Permanent link">&para;</a></h3>
<p><em>Manage which URLs the client considers to be associated with which files.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Import URLs permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: <code>application/json</code></li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>url_to_add</code>: (an url you want to associate with the file(s))</li>
<li><code>urls_to_add</code>: (a list of urls you want to associate with the file(s))</li>
<li><code>url_to_delete</code>: (an url you want to disassociate from the file(s))</li>
<li><code>urls_to_delete</code>: (a list of urls you want to disassociate from the file(s))</li>
<li><code>hash</code>: (an SHA256 hash for a file in 64 characters of hexadecimal)</li>
<li><code>hashes</code>: (a list of SHA256 hashes)</li>
</ul>
<p>All of these are optional, but you obviously need to have at least one of <code>url</code> arguments and one of the <code>hash</code> arguments. The single/multiple arguments work the same--just use whatever is convenient for you. Unless you really know what you are doing with URL Classes, I strongly recommend you stick to associating URLs with just one single 'hash' at a time. Multiple hashes pointing to the same URL is unusual and frequently unhelpful.
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;url_to_add&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://rule34.xxx/index.php?id=2588418&amp;page=post&amp;s=view&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3b820114f658d768550e4e3d4f1dced3ff8db77443472b5ad93700647ad2d3ba&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
</dd>
<dt>Response:</dt>
<dd>200 with no content. Like when adding tags, this is safely idempotent--do not worry about re-adding URLs associations that already exist or accidentally trying to delete ones that don't.</dd>
</dl>
<h2 id="managing_cookies_and_http_headers">Managing Cookies and HTTP Headers<a class="headerlink" href="#managing_cookies_and_http_headers" title="Permanent link">&para;</a></h2>
<p>This refers to the cookies held in the client's session manager, which are sent with network requests to different domains.</p>
<h3 id="manage_cookies_get_cookies"><strong>GET <code>/manage_cookies/get_cookies</code></strong><a class="headerlink" href="#manage_cookies_get_cookies" title="Permanent link">&para;</a></h3>
<p><em>Get the cookies for a particular domain.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Cookies permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>domain</code></li>
</ul>
<div class="highlight"><span class="filename">Example request (for gelbooru.com)</span><pre><span></span><code>/manage_cookies/get_cookies?domain=gelbooru.com
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>
<p>A JSON Object listing all the cookies for that domain in [ name, value, domain, path, expires ] format.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cookies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;__cfduid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;f1bef65041e54e93110a883360bc7e71&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.gelbooru.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1596223327</span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;pass_hash&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;0b0833b797f108e340b315bc5463c324&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;gelbooru.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1585855361</span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;123456&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;gelbooru.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1585855361</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>Note that these variables are all strings except 'expires', which is either an integer timestamp or <em>null</em> for session cookies.</p>
<p>This request will also return any cookies for subdomains. The session system in hydrus generally stores cookies according to the second-level domain, so if you request for specific.someoverbooru.net, you will still get the cookies for someoverbooru.net and all its subdomains.</p>
</dd>
</dl>
<h3 id="manage_cookies_set_cookies"><strong>POST <code>/manage_cookies/set_cookies</code></strong><a class="headerlink" href="#manage_cookies_set_cookies" title="Permanent link">&para;</a></h3>
<p>Set some new cookies for the client. This makes it easier to 'copy' a login from a web browser or similar to hydrus if hydrus's login system can't handle the site yet.</p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Cookies permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>cookies</code>: (a list of cookie rows in the same format as the GET request above)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;cookies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;PHPSESSID&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;07669eb2a1a6e840e498bb6e0799f3fb&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.somesite.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1627327719</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;tag_filter&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.somesite.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1627327719</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>You can set 'value' to be null, which will clear any existing cookie with the corresponding name, domain, and path (acting essentially as a delete).</p>
<p>Expires can be null, but session cookies will time-out in hydrus after 60 minutes of non-use.</p>
</dd>
</dl>
<h3 id="manage_headers_set_user_agent"><strong>POST <code>/manage_headers/set_user_agent</code></strong><a class="headerlink" href="#manage_headers_set_user_agent" title="Permanent link">&para;</a></h3>
<p>This sets the 'Global' User-Agent for the client, as typically editable under <em>network-&gt;data-&gt;manage http headers</em>, for instance if you want hydrus to appear as a specific browser associated with some cookies.</p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Cookies permission needed.</dd>
<dt>Required Headers:</dt>
<dd>*   <code>Content-Type</code>: application/json</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>user-agent</code>: (a string)</li>
</ul>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;user-agent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Send an empty string to reset the client back to the default User-Agent, which should be <code>Mozilla/5.0 (compatible; Hydrus Client)</code>.</p>
</dd>
</dl>
<h2 id="managing_pages">Managing Pages<a class="headerlink" href="#managing_pages" title="Permanent link">&para;</a></h2>
<p>This refers to the pages of the main client UI.</p>
<h3 id="manage_pages_get_pages"><strong>GET <code>/manage_pages/get_pages</code></strong><a class="headerlink" href="#manage_pages_get_pages" title="Permanent link">&para;</a></h3>
<p><em>Get the page structure of the current UI session.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Pages permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<p>Arguments: n/a</p>
<dl>
<dt>Response:</dt>
<dd>
<p>A JSON Object of the top-level page 'notebook' (page of pages) detailing its basic information and current sub-pages. Page of pages beneath it will list their own sub-page lists.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;top pages notebook&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3b28d8a59ec61834325eb6275d9df012860a1ecfd9e1246423059bc47fb6d5bd&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;files&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d436ff5109215199913705eb9a7669d8a6b67c52e41c3b42904db083255ca84d&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thread watcher&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;40887fa327edca01e1d69b533dddba4681b2c43e0b4ebee0576177852e8c32e7&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pages&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2ee7fa4058e1e23f2bd9e915cdf9347ae90902a8622d6559ba019a83a785c4dc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;urls&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9fe22cb760d9ee6de32575ed9f27b76b4c215179cf843d3f9044efeeca98411f&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;files&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2977d57fc9c588be783727bcd54225d577b44e8aa2f91e365a3eb3c3f580dc4e&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;selected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>The page types are as follows:</p>
<ul>
<li>1 - Gallery downloader</li>
<li>2 - Simple downloader</li>
<li>3 - Hard drive import</li>
<li>5 - Petitions (used by repository janitors)</li>
<li>6 - File search</li>
<li>7 - URL downloader</li>
<li>8 - Duplicates</li>
<li>9 - Thread watcher</li>
<li>10 - Page of pages</li>
</ul>
<p>The top page of pages will always be there, and always selected. 'selected' means which page is currently in view and will propagate down other page of pages until it terminates. It may terminate in an empty page of pages, so do not assume it will end on a 'media' page.</p>
<p>The 'page_key' is a unique identifier for the page. It will stay the same for a particular page throughout the session, but new ones are generated on a client restart or other session reload.</p>
</dd>
</dl>
<h3 id="manage_pages_get_page_info"><strong>GET <code>/manage_pages/get_page_info</code></strong><a class="headerlink" href="#manage_pages_get_page_info" title="Permanent link">&para;</a></h3>
<p><em>Get information about a specific page.</em></p>
<div class="admonition warning">
<p class="admonition-title">Under Construction</p>
<p>This is under construction. The current call dumps a ton of info for different downloader pages. Please experiment in IRL situations and give feedback for now! I will flesh out this help with more enumeration info and examples as this gets nailed down. POST commands to alter pages (adding, removing, highlighting), will come later.</p>
</div>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Pages permission needed.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>page_key</code>: (hexadecimal page_key as stated in <a href="#manage_pages_get_pages">/manage_pages/get_pages</a>)</li>
<li><code>simple</code>: true or false (optional, defaulting to true)</li>
</ul>
<div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/manage_pages/get_page_info?page_key=aebbf4b594e6986bddf1eeb0b5846a1e6bc4e07088e517aff166f1aeb1c3c9da&amp;simple=true
</code></pre></div>
</dd>
<dt>Response description</dt>
<dd>
<p>A JSON Object of the page's information. At present, this mostly means downloader information.
<div class="highlight"><span class="filename">Example response with simple = true</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;page_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;threads&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aebbf4b594e6986bddf1eeb0b5846a1e6bc4e07088e517aff166f1aeb1c3c9da&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;page_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;management&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;multiple_watcher_import&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;watcher_imports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://someimageboard.net/m/123456&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;watcher_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cf8c3525c57a46b0e5c2625812964364a2e801f8c49841c216b8f8d7a4d06d85&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566164269</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;last_check_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566164272</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;next_check_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566174272</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;files_paused&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;checking_paused&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;checking_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gundam pictures&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;imports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4 successful (2 already in db)&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;simple_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_to_process&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;gallery_log&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1 successful&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;simple_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_to_process&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://someimageboard.net/a/1234&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;watcher_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6bc17555b76da5bde2dcceedc382cf7d23281aee6477c41b643cd144ec168510&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566063125</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;last_check_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566063133</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;next_check_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1566104272</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;files_paused&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;checking_paused&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;checking_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anime pictures&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;imports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;124 successful (22 already in db), 2 previously deleted&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;simple_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;124&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_to_process&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;gallery_log&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3 successful&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;simple_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="nt">&quot;total_to_process&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;highlight&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cf8c3525c57a46b0e5c2625812964364a2e801f8c49841c216b8f8d7a4d06d85&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;media&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;num_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>As you can see, even the 'simple' mode can get very large. Imagine that response for a page watching 100 threads! Turning simple mode off will display every import item, gallery log entry, and all hashes in the media (thumbnail) panel.</p>
<p>For this first version, the five importer pages--hdd import, simple downloader, url downloader, gallery page, and watcher page--all give rich info based on their specific variables. The first three only have one importer/gallery log combo, but the latter two of course can have multiple. The "imports" and "gallery_log" entries are all in the same data format.</p>
</dd>
</dl>
<h3 id="manage_pages_add_files"><strong>POST <code>/manage_pages/add_files</code></strong><a class="headerlink" href="#manage_pages_add_files" title="Permanent link">&para;</a></h3>
<p><em>Add files to a page.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Pages permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>page_key</code>: (the page key for the page you wish to add files to)</li>
<li><code>file_ids</code>: (selective, a list of numerical file ids)</li>
<li><code>hashes</code>: (selective, a list of hexadecimal SHA256 hashes)</li>
</ul>
<p>You need to use either file_ids or hashes. The files they refer to will be appended to the given page, just like a thumbnail drag and drop operation. The page key is the same as fetched in the <a href="#manage_pages_get_pages">/manage_pages/get_pages</a> call.</p>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;af98318b6eece15fef3cf0378385ce759bfe056916f6e12157cd928eb56c1f18&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;file_ids&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w"> </span><span class="mi">125</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 with no content. If the page key is not found, this will 404.</dd>
</dl>
<h3 id="manage_pages_focus_page"><strong>POST <code>/manage_pages/focus_page</code></strong><a class="headerlink" href="#manage_pages_focus_page" title="Permanent link">&para;</a></h3>
<p><em>'Show' a page in the main GUI, making it the current page in view. If it is already the current page, no change is made.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Pages permission needed.</dd>
<dt>Required Headers:</dt>
<dd>
<ul>
<li><code>Content-Type</code>: application/json</li>
</ul>
</dd>
<dt>Arguments (in JSON):</dt>
<dd>
<ul>
<li><code>page_key</code>: (the page key for the page you wish to show)</li>
</ul>
<p>The page key is the same as fetched in the <a href="#manage_pages_get_pages">/manage_pages/get_pages</a> call.</p>
<div class="highlight"><span class="filename">Example request body</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;page_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;af98318b6eece15fef3cf0378385ce759bfe056916f6e12157cd928eb56c1f18&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</dd>
<dt>Response:</dt>
<dd>200 with no content. If the page key is not found, this will 404.</dd>
</dl>
<h2 id="searching_files">Searching Files<a class="headerlink" href="#searching_files" title="Permanent link">&para;</a></h2>
<p>File search in hydrus is not paginated like a booru--all searches return all results in one go. In order to keep this fast, search is split into two steps--fetching file identifiers with a search, and then fetching file metadata in batches. You may have noticed that the client itself performs searches like this--thinking a bit about a search and then bundling results in batches of 256 files before eventually throwing all the thumbnails on screen.</p>
<h3 id="get_files_search_files"><strong>GET <code>/get_files/search_files</code></strong><a class="headerlink" href="#get_files_search_files" title="Permanent link">&para;</a></h3>
<p><em>Search for the client's files.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Search for Files permission needed. Additional search permission limits may apply.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments (in percent-encoded JSON):</dt>
<dd>
<ul>
<li><code>tags</code>: (a list of tags you wish to search for)</li>
<li><code>file_service_name</code>: (optional, selective, string, the file domain on which to search)</li>
<li><code>file_service_key</code>: (optional, selective, hexadecimal, the file domain on which to search)</li>
<li><code>tag_service_name</code>: (optional, selective, string, the tag domain on which to search)</li>
<li><code>tag_service_key</code>: (optional, selective, hexadecimal, the tag domain on which to search)</li>
<li><code>file_sort_type</code>: (optional, integer, the results sort method)</li>
<li><code>file_sort_asc</code>: true or false (optional, the results sort order)</li>
<li><code>return_hashes</code>: true or false (optional, default false, returns hex hashes instead of file ids)</li>
<li><em><code>system_inbox</code>: true or false (obsolete, use tags)</em></li>
<li><em><code>system_archive</code>: true or false (obsolete, use tags)</em></li>
</ul>
<div class="highlight"><span class="filename">Example request for 16 files (system:limit=16) in the inbox with tags "blue eyes", "blonde hair", and "кино"</span><pre><span></span><code>/get_files/search_files?tags=%5B%22blue%20eyes%22%2C%20%22blonde%20hair%22%2C%20%22%5Cu043a%5Cu0438%5Cu043d%5Cu043e%22%2C%20%22system%3Ainbox%22%2C%20%22system%3Alimit%3D16%22%5D
</code></pre></div>
<p>If the access key's permissions only permit search for certain tags, at least one positive whitelisted/non-blacklisted tag must be in the "tags" list or this will 403. Tags can be prepended with a hyphen to make a negated tag (e.g. "-green eyes"), but these will not be checked against the permissions whitelist.</p>
<p>Wildcards and namespace searches are supported, so if you search for 'character:sam*' or 'series:*', this will be handled correctly clientside.</p>
<p>Many system predicates are also supported using a text parser! The parser was designed by a clever user for human input and allows for a certain amount of error (e.g. ~= instead of ≈, or "isn't" instead of "is not") or requires more information (e.g. the specific hashes for a hash lookup). Here's a big list of current formats supported:</p>
<details class="example">
<summary>System Predicates</summary>
<ul>
<li>system:everything</li>
<li>system:inbox</li>
<li>system:archive</li>
<li>system:has duration</li>
<li>system:no duration</li>
<li>system:is the best quality file of its duplicate group</li>
<li>system:is not the best quality file of its duplicate group</li>
<li>system:has audio</li>
<li>system:no audio</li>
<li>system:has icc profile</li>
<li>system:no icc profile</li>
<li>system:has tags</li>
<li>system:no tags</li>
<li>system:untagged</li>
<li>system:number of tags &gt; 5</li>
<li>system:number of tags ~= 10</li>
<li>system:number of tags &gt; 0</li>
<li>system:number of words &lt; 2</li>
<li>system:height = 600</li>
<li>system:height &gt; 900</li>
<li>system:width &lt; 200</li>
<li>system:width &gt; 1000</li>
<li>system:filesize ~= 50 kilobytes</li>
<li>system:filesize &gt; 10megabytes</li>
<li>system:filesize &lt; 1 GB</li>
<li>system:filesize &gt; 0 B</li>
<li>system:similar to abcdef01 abcdef02 abcdef03, abcdef04 with distance 3</li>
<li>system:similar to abcdef distance 5</li>
<li>system:limit = 100</li>
<li>system:filetype = image/jpg, image/png, apng</li>
<li>system:hash = abcdef01 abcdef02 abcdef03 <em>(this does sha256)</em></li>
<li>system:hash = abcdef01 abcdef02 md5</li>
<li>system:modified date &lt; 7 years 45 days 7h</li>
<li>system:modified date &gt; 2011-06-04</li>
<li>system:date modified &gt; 7 years 2 months</li>
<li>system:date modified &lt; 0 years 1 month 1 day 1 hour</li>
<li>system:time imported &lt; 7 years 45 days 7h</li>
<li>system:time imported &gt; 2011-06-04</li>
<li>system:time imported &gt; 7 years 2 months</li>
<li>system:time imported &lt; 0 years 1 month 1 day 1 hour</li>
<li>system:time imported ~= 2011-1-3</li>
<li>system:time imported ~= 1996-05-2</li>
<li>system:duration &lt; 5 seconds</li>
<li>system:duration ~= 600 msecs</li>
<li>system:duration &gt; 3 milliseconds</li>
<li>system:file service is pending to my files</li>
<li>system:file service currently in my files</li>
<li>system:file service is not currently in my files</li>
<li>system:file service is not pending to my files</li>
<li>system:num file relationships &lt; 3 alternates</li>
<li>system:number of file relationships &gt; 3 false positives</li>
<li>system:ratio is wider than 16:9</li>
<li>system:ratio is 16:9</li>
<li>system:ratio taller than 1:1</li>
<li>system:num pixels &gt; 50 px</li>
<li>system:num pixels &lt; 1 megapixels</li>
<li>system:num pixels ~= 5 kilopixel</li>
<li>system:media views ~= 10</li>
<li>system:all views &gt; 0</li>
<li>system:preview views &lt; 10</li>
<li>system:media viewtime &lt; 1 days 1 hour 0 minutes</li>
<li>system:all viewtime &gt; 1 hours 100 seconds</li>
<li>system:preview viewtime ~= 1 day 30 hours 100 minutes 90s</li>
<li>system:has url matching regex index\.php</li>
<li>system:does not have a url matching regex index\.php</li>
<li>system:has url https://safebooru.donmai.us/posts/4695284</li>
<li>system:does not have url https://safebooru.donmai.us/posts/4695284</li>
<li>system:has domain safebooru.com</li>
<li>system:does not have domain safebooru.com</li>
<li>system:has a url with class safebooru file page</li>
<li>system:does not have a url with url class safebooru file page</li>
<li>system:tag as number page &lt; 5</li>
</ul>
</details>
<p>More system predicate types and input formats will be available in future. Please test out the system predicates you want to send. Reverse engineering system predicate data from text is obviously tricky. If a system predicate does not parse, you'll get 400.</p>
<p>Also, OR predicates are now supported! Just nest within the tag list, and it'll be treated like an OR. For instance:</p>
<ul>
<li>
<p><code class="highlight"><span class="p">[</span><span class="w"> </span><span class="s2">&quot;skirt&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;samus aran&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;lara croft&quot;</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="s2">&quot;system:height &gt; 1000&quot;</span><span class="w"> </span><span class="p">]</span><span class="w"></span></code></p>
<p>Makes:</p>
<ul>
<li>skirt</li>
<li>samus aran OR lara croft</li>
<li>system:height &gt; 1000</li>
</ul>
</li>
</ul>
<p>The file and tag services are for search domain selection, just like clicking the buttons in the client. They are optional--default is 'my files' and 'all known tags', and you can use either key or name as in <a href="#get_services">GET /get_services</a>, whichever is easiest for your situation.</p>
<p>file_sort_asc is 'true' for ascending, and 'false' for descending. The default is descending.</p>
<p>file_sort_type is by default <em>import time</em>. It is an integer according to the following enum, and I have written the semantic (asc/desc) meaning for each type after:</p>
<ul>
<li>0 - file size (smallest first/largest first)</li>
<li>1 - duration (shortest first/longest first)</li>
<li>2 - import time (oldest first/newest first)</li>
<li>3 - filetype (N/A)</li>
<li>4 - random (N/A)</li>
<li>5 - width (slimmest first/widest first)</li>
<li>6 - height (shortest first/tallest first)</li>
<li>7 - ratio (tallest first/widest first)</li>
<li>8 - number of pixels (ascending/descending)</li>
<li>9 - number of tags (on the current tag domain) (ascending/descending)</li>
<li>10 - number of media views (ascending/descending)</li>
<li>11 - total media viewtime (ascending/descending)</li>
<li>12 - approximate bitrate (smallest first/largest first)</li>
<li>13 - has audio (audio first/silent first)</li>
<li>14 - modified time (oldest first/newest first)</li>
<li>15 - framerate (slowest first/fastest first)</li>
<li>16 - number of frames (smallest first/largest first)</li>
<li>18 - last viewed time (oldest first/newest first)</li>
</ul>
</dd>
<dt>Response:</dt>
<dd>
<p>The full list of numerical file ids that match the search.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;file_ids&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">125462</span><span class="p">,</span><span class="w"> </span><span class="mi">4852415</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">591415</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">Example response with return_hashes=true</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hashes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;1b04c4df7accd5a61c5d02b36658295686b0abfebdc863110e7d7249bba3f9ad&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;fe416723c731d679aa4d20e9fd36727f4a38cd0ac6d035431f0f452fad54563f&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;b53505929c502848375fbc4dab2f40ad4ae649d34ef72802319a348f81b52bad&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>File ids are internal and specific to an individual client. For a client, a file with hash H always has the same file id N, but two clients will have different ideas about which N goes with which H. They are a bit faster than hashes to retrieve and search with <em>en masse</em>, which is why they are exposed here.</p>
<p>This search does <strong>not</strong> apply the implicit limit that most clients set to all searches (usually 10,000), so if you do system:everything on a client with millions of files, expect to get boshed. Even with a system:limit included, complicated queries with large result sets may take several seconds to respond. Just like the client itself.</p>
</dd>
</dl>
<h3 id="get_files_file_metadata"><strong>GET <code>/get_files/file_metadata</code></strong><a class="headerlink" href="#get_files_file_metadata" title="Permanent link">&para;</a></h3>
<p><em>Get metadata about files in the client.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Search for Files permission needed. Additional search permission limits may apply.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments (in percent-encoded JSON):</dt>
<dd>
<ul>
<li><code>file_ids</code>: (selective, a list of numerical file ids)</li>
<li><code>hashes</code>: (selective, a list of hexadecimal SHA256 hashes)</li>
<li><code>only_return_identifiers</code>: true or false (optional, defaulting to false)</li>
<li><code>detailed_url_information</code>: true or false (optional, defaulting to false)</li>
<li><code>hide_service_names_tags</code>: true or false (optional, defaulting to false)</li>
</ul>
<p>You need one of file_ids or hashes. If your access key is restricted by tag, you cannot search by hashes, and <strong>the file_ids you search for must have been in the most recent search result</strong>.</p>
<div class="highlight"><span class="filename">Example request for two files with ids 123 and 4567</span><pre><span></span><code>/get_files/file_metadata?file_ids=%5B123%2C%204567%5D
</code></pre></div>
<div class="highlight"><span class="filename">The same, but only wants hashes back</span><pre><span></span><code>/get_files/file_metadata?file_ids=%5B123%2C%204567%5D&amp;only_return_identifiers=true
</code></pre></div>
<div class="highlight"><span class="filename">And one that fetches two hashes</span><pre><span></span><code>/get_files/file_metadata?hashes=%5B%224c77267f93415de0bc33b7725b8c331a809a924084bee03ab2f5fae1c6019eb2%22%2C%20%223e7cb9044fe81bda0d7a84b5cb781cba4e255e4871cba6ae8ecd8207850d5b82%22%5D
</code></pre></div>
<p>This request string can obviously get pretty ridiculously long. It also takes a bit of time to fetch metadata from the database. In its normal searches, the client usually fetches file metadata in batches of 256.</p>
</dd>
<dt>Response:</dt>
<dd>
<p>A list of JSON Objects that store a variety of file metadata.
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4c77267f93415de0bc33b7725b8c331a809a924084bee03ab2f5fae1c6019eb2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">63405</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;mime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;time_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_services&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;deleted&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;has_audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;num_frames&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;num_words&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_inbox&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_local&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_trashed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;known_urls&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_names_to_statuses_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_keys_to_statuses_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_names_to_statuses_to_display_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_keys_to_statuses_to_display_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3e7cb9044fe81bda0d7a84b5cb781cba4e255e4871cba6ae8ecd8207850d5b82&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">199713</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;mime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;video/webm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;ext&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.webm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1920</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1080</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4040</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;time_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1624055647</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_services&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;616c6c206c6f63616c2066696c6573&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;time_imported&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1641044491</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;deleted&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;6c6f63616c2066696c6573&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;time_deleted&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1641204274</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;time_imported&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1641044491</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;has_audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;num_frames&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;num_words&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_inbox&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_local&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;is_trashed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;known_urls&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://gelbooru.com/index.php?page=post&amp;s=view&amp;id=4841557&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;https://img2.gelbooru.com//images/80/c8/80c8646b4a49395fb36c805f316c49a9.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;http://origin-orig.deviantart.net/ed31/f/2019/210/7/8/beachqueen_samus_by_dandonfuga-ddcu1xg.jpg&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_names_to_statuses_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;my tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;favourites&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;process this later&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;my tag repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;blonde_hair&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue_eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;looking_at_viewer&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bodysuit&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_keys_to_statuses_to_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;6c6f63616c2074616773&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;favourites&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;process this later&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;37e3849bda234f53b0e9792a036d14d4f3a9a136d1cb939705dbcd5287941db4&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;blonde_hair&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue_eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;looking_at_viewer&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bodysuit&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_names_to_statuses_to_display_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;my tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;favourites&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;process this later&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;my tag repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;blonde hair&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;looking at viewer&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bodysuit&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clothing&quot;</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;service_keys_to_statuses_to_display_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;6c6f63616c2074616773&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;favourites&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;process this later&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;37e3849bda234f53b0e9792a036d14d4f3a9a136d1cb939705dbcd5287941db4&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;blonde hair&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue eyes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;looking at viewer&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bodysuit&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clothing&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><span class="filename">And one where only_return_identifiers is true</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4c77267f93415de0bc33b7725b8c331a809a924084bee03ab2f5fae1c6019eb2&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;file_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3e7cb9044fe81bda0d7a84b5cb781cba4e255e4871cba6ae8ecd8207850d5b82&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<p>Size is in bytes. Duration is in milliseconds, and may be an int or a float.</p>
<p>file_services stores which file services the file is <i>current</i>ly in and <em>deleted</em> from. The entries are by the service key, same as for tags later on. In rare cases, the timestamps may be <code>null</code>, if they are unknown (e.g. a <code>time_deleted</code> for the file deleted before this information was tracked). The <code>time_modified</code> can also be null. Time modified is just the filesystem modified time for now, but it will evolve into more complicated storage in future with multiple locations (website post times) that'll be aggregated to a sensible value in UI.</p>
<p>The <code>service_names_to_statuses_to_tags and service_keys_to_statuses_to_tags</code> structures are similar to the <code>/add_tags/add_tags</code> scheme, excepting that the status numbers are:</p>
<ul>
<li>0 - current</li>
<li>1 - pending</li>
<li>2 - deleted</li>
<li>3 - petitioned</li>
</ul>
<p>The tag structure is duplicated for both <code>name</code> and <code>key</code>. The use of <code>name</code> is an increasingly legacy issue--a hack when the Client API was young--and 'service_names_to...' lookups are likely to be deleted in future in favour of <code>service_key</code>. I recommend you move to service key when you can. To learn more about service names and keys on a client, use the <a href="#get_services">/get_services</a> call (and cache the response--it doesn't change much!).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since JSON Object keys must be strings, these status numbers are strings, not ints.</p>
</div>
<p>While <code>service_XXX_to_statuses_to_tags</code> represent the actual tags stored on the database for a file, the <code>service_XXX_to_statuses_to_<i>display</i>_tags</code> structures reflect how tags appear in the UI, after siblings are collapsed and parents are added. If you want to edit a file's tags, start with <code>service_keys_to_statuses_to_tags</code>. If you want to render to the user, use <code>service_keys_to_statuses_to_displayed_tags</code>.</p>
<p>If you add <code>hide_service_names_tags=true</code>, the <code>service_names_to_statuses_to_tags</code> and <code>service_names_to_statuses_to_display_tags</code> Objects will not be included. Use this to save data/CPU on large queries.</p>
<p>If you add <code>detailed_url_information=true</code>, a new entry, <code>detailed_known_urls</code>, will be added for each file, with a list of the same structure as /<code>add_urls/get_url_info</code>. This may be an expensive request if you are querying thousands of files at once.</p>
<div class="highlight"><span class="filename">For example</span><pre><span></span><code><span class="nt">&quot;detailed_known_urls&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;normalised_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://gelbooru.com/index.php?id=4841557&amp;page=post&amp;s=view&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;url_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;url_type_string&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;post url&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;match_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gelbooru file page&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;can_parse&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;normalised_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://img2.gelbooru.com//images/80/c8/80c8646b4a49395fb36c805f316c49a9.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;url_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;url_type_string&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown url&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;match_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unknown url&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;can_parse&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</code></pre></div>
</dd>
</dl>
<h3 id="get_files_file"><strong>GET <code>/get_files/file</code></strong><a class="headerlink" href="#get_files_file" title="Permanent link">&para;</a></h3>
<p><em>Get a file.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Search for Files permission needed. Additional search permission limits may apply.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments :</dt>
<dd>
<ul>
<li><code>file_id</code>: (numerical file id for the file)</li>
<li><code>hash</code>: (a hexadecimal SHA256 hash for the file)</li>
</ul>
<p>Only use one. As with metadata fetching, you may only use the hash argument if you have access to all files. If you are tag-restricted, you will have to use a file_id in the last search you ran.</p>
<p><div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/get_files/file?file_id=452158
</code></pre></div>
<div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/get_files/file?hash=7f30c113810985b69014957c93bc25e8eb4cf3355dae36d8b9d011d8b0cf623a
</code></pre></div></p>
</dd>
<dt>Response:</dt>
<dd>The file itself. You should get the correct mime type as the Content-Type header.</dd>
</dl>
<h3 id="get_files_thumbnail"><strong>GET <code>/get_files/thumbnail</code></strong><a class="headerlink" href="#get_files_thumbnail" title="Permanent link">&para;</a></h3>
<p><em>Get a file's thumbnail.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Search for Files permission needed. Additional search permission limits may apply.</dd>
</dl>
<p>Required Headers: n/a</p>
<dl>
<dt>Arguments:</dt>
<dd>
<ul>
<li><code>file_id</code>: (numerical file id for the file)</li>
<li><code>hash</code>: (a hexadecimal SHA256 hash for the file)</li>
</ul>
<p>Only use one. As with metadata fetching, you may only use the hash argument if you have access to all files. If you are tag-restricted, you will have to use a file_id in the last search you ran.</p>
<p><div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/get_files/thumbnail?file_id=452158
</code></pre></div>
<div class="highlight"><span class="filename">Example request</span><pre><span></span><code>/get_files/thumbnail?hash=7f30c113810985b69014957c93bc25e8eb4cf3355dae36d8b9d011d8b0cf623a
</code></pre></div></p>
</dd>
<dt>Response:</dt>
<dd>The thumbnail for the file. It will give application/octet-stream as the mime type. Some hydrus thumbs are jpegs, some are pngs.</dd>
</dl>
<h2 id="managing_the_database">Managing the Database<a class="headerlink" href="#managing_the_database" title="Permanent link">&para;</a></h2>
<h3 id="manage_database_lock_on"><strong>POST <code>/manage_database/lock_on</code></strong><a class="headerlink" href="#manage_database_lock_on" title="Permanent link">&para;</a></h3>
<p><em>Pause the client's database activity and disconnect the current connection.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Database permission needed.</dd>
</dl>
<p>Arguments: None</p>
<p>This is a hacky prototype. It commands the client database to pause its job queue and release its connection (and related file locks and journal files). This puts the client in a similar position as a long VACUUM command--it'll hang in there, but not much will work, and since the UI async code isn't great yet, the UI may lock up after a minute or two. If you would like to automate database backup without shutting the client down, this is the thing to play with.</p>
<p>This should return pretty quick, but it will wait up to five seconds for the database to actually disconnect. If there is a big job (like a VACUUM) current going on, it may take substantially longer to finish that up and process this STOP command. You might like to check for the existence of a journal file in the db dir just to be safe.</p>
<p>As long as this lock is on, all Client API calls except the unlock command will return 503. (This is a decent way to test the current lock status, too)</p>
<h3 id="manage_database_lock_off"><strong>POST <code>/manage_database/lock_off</code></strong><a class="headerlink" href="#manage_database_lock_off" title="Permanent link">&para;</a></h3>
<p><em>Reconnect the client's database and resume activity.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Database permission needed.</dd>
</dl>
<p>Arguments: None</p>
<p>This is the obvious complement to the lock. The client will resume processing its job queue and will catch up. If the UI was frozen, it should free up in a few seconds, just like after a big VACUUM.</p>
<h3 id="manage_database_mr_bones"><strong>GET <code>/manage_database/mr_bones</code></strong><a class="headerlink" href="#manage_database_mr_bones" title="Permanent link">&para;</a></h3>
<p><em>Get the data from help-&gt;how boned am I?. This is a simple Object of numbers just for hacky advanced purposes if you want to build up some stats in the background. The numbers are the same as the dialog shows, so double check that to confirm what means what.</em></p>
<dl>
<dt>Restricted access:</dt>
<dd>YES. Manage Database permission needed.</dd>
</dl>
<p>Arguments: None</p>
<div class="highlight"><span class="filename">Example response</span><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;boned_stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;num_inbox&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8356</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;num_archive&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">229</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;num_deleted&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7010</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;size_inbox&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7052596762</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;size_archive&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">262911007</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;size_deleted&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13742290193</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;earliest_import_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1451408539</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;total_viewtime&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3280</span><span class="p">,</span><span class="w"> </span><span class="mi">41621</span><span class="p">,</span><span class="w"> </span><span class="mi">2932</span><span class="p">,</span><span class="w"> </span><span class="mi">83021</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;total_alternate_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">265</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;total_duplicate_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;total_potential_pairs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3252</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="client_api.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Client API" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Client API
            </div>
          </div>
        </a>
      
      
        
        <a href="faq.html" class="md-footer__link md-footer__link--next" aria-label="Next: FAQ" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              FAQ
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/hydrusnetwork/hydrus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/hydrusnetwork" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://hydrus.tumblr.com/" target="_blank" rel="noopener" title="hydrus.tumblr.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"/></svg>
    </a>
  
    
    
    <a href="mailto:hydrus.admin@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M256 352c-16.53 0-33.06-5.422-47.16-16.41L0 173.2V400c0 26.5 21.49 48 48 48h416c26.51 0 48-21.49 48-48V173.2L303.2 335.7C289.1 346.6 272.5 352 256 352zM16.29 145.3l212.2 165.1c16.19 12.6 38.87 12.6 55.06 0l212.2-165.1C505.1 137.3 512 125 512 112c0-26.51-21.5-48-48-48H48C21.49 64 0 85.49 0 112c0 13 6.01 25.3 16.29 33.3z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://discord.gg/wPHPCUZ" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541zM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.patreon.com/hydrus_dev" target="_blank" rel="noopener" title="www.patreon.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.tabs", "content.tabs.link", "navigation.top", "search.suggest", "content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="assets/javascripts/bundle.9f3ca3d1.min.js"></script>
      
    
  </body>
</html>